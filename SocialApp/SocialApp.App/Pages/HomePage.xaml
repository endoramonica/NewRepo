<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:y="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:controls="clr-namespace:SocialApp.App.Controls"
             x:Class="SocialApp.App.Pages.HomePage"
    xmlns:vm ="clr-namespace:SocialApp.App.ViewModels"
             x:DataType="vm:HomeViewModels"
    BackgroundColor="Gray">

    <!-- Phần TitleView của Shell -->
    <Shell.TitleView>
        <Grid ColumnDefinitions="Auto, *, Auto" Padding="10,0">

            <!-- Tiêu đề trang -->
            <Label Text="Home" FontSize="22" FontAttributes="Bold" VerticalOptions="Center" />

            <!-- Phần chứa các icon bên phải -->
            <Grid Grid.Column="2" ColumnDefinitions="Auto, Auto, Auto" Padding="10" ColumnSpacing="10" HorizontalOptions="End">

                <!-- Icon thông báo với badge -->
                <Grid Grid.Column="0">
                    <Image Source="notifications.png" HeightRequest="24" WidthRequest="24" VerticalOptions="Center" HorizontalOptions="Center">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToNotificationCommand}" />
                        </Image.GestureRecognizers>
                    </Image>
                    <Ellipse Fill="Yellow" WidthRequest="12" HeightRequest="12" Stroke="Red" StrokeThickness="2" VerticalOptions="Start" HorizontalOptions="End" Margin="2" />
                </Grid>

                <!-- Icon thêm -->
                <Image Grid.Column="1" Source="add_box.png" HeightRequest="30" WidthRequest="30" VerticalOptions="Center">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToCreatePostCommand}" />
                    </Image.GestureRecognizers>
                </Image>

                <!-- Icon hồ sơ -->
                <Image Grid.Column="2" Source="account_circle.png" HeightRequest="30" WidthRequest="30" VerticalOptions="Center">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToProfileCommand}" />
                    </Image.GestureRecognizers>
                </Image>
            </Grid>
        </Grid>
    </Shell.TitleView>

    <!--Bên trong Board -->
    <Grid>
        <!--Bên trong trang -->
        <CollectionView ItemTemplate="{StaticResource  postDataTemplateSelector}" ItemsSource="{Binding Posts}" />











        <!--Nút nổi -->
        <Border StrokeThickness="2"
        Stroke="White"
        BackgroundColor="LightPink"
        Padding="5"
        
        VerticalOptions="End"
        WidthRequest="60"
        HeightRequest="60"
        StrokeShape="RoundRectangle 20">
            <Image 
           Source="logo.png"
           WidthRequest="50"
           HeightRequest="50"
                Opacity="0.5"/>
            <Border.Shadow>
                <Shadow Brush="Black" Radius="25"/>
            </Border.Shadow>
        </Border>

    </Grid>  

</ContentPage>
